<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style rel="stylesheet" type="text/css">
.scenario {
    border: 1px solid #ccc;
}

.step {
    border: 1px dashed #ccc;
}

.children {
    display: none;
    margin-left: 1.4em;
}

/* Containers */
.feature, #errors {
    border: 1px solid #ccc;
    padding: 0.3em 0.2em;
    margin: 0.2em 0;
}

.fail {
    color: #f33 !important;
    font-weight: bold;
}
.pass {
    color: #393 !important;
}
.label {
    padding: 2px 5px;
    font-size: 0.75em;
    letter-spacing: 1px;
    white-space: nowrap;
    color: black;
    background-color: #ddd;
    border-radius: 3px;
}
.label.debug, .label.trace, .label.error, .label.keyword {
    letter-spacing: 0;
}
.label.error, .label.fail, .label.pass, .label.warn {
    color: #fff !important;
    font-weight: bold;
}
.label.error, .label.fail {
    background-color: #d9534f;
}
.label.pass {
    background-color: #5cb85c;
}

.label.skip {
    background-color: dodgerblue;
}
.label.warn {
    background-color: #ec971f;
}

.name {
    font-weight: bold;
    font-size: 0.75em;
}

.elapsed {
    float: right;
    color: #999;
    padding-left: 1em;
}
</style>
    <title>behave testing result</title>
</head>
<body>	<div class="feature">
	<span class="label fail">Feature:</span>
	<span class="name">申请实例</span>
		<div class="children scenario" style="display: block;">
			<span class="label pass">Scenario</span>
			<span class="name">申请一个正常的游戏</span>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">玩家通过租户"xiamatest"注册一个用户</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">用户申请一个"random"实例</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">等待"2000"毫秒</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">这个实例应该收到"address"消息</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">这个请求的状态应该是"InService"</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">接入商"xiamatest"已占用的实例个数应该为"501"</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">用户释放实例</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">等待"2000"毫秒</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">这个请求应该被成功释放</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">接入商"xiamatest"已占用的实例个数应该为"500"</span>
			</div>
		</div>
		<div class="children scenario" style="display: block;">
			<span class="label fail">Scenario</span>
			<span class="name">申请一个带有可玩儿时间的游戏</span>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">玩家通过租户"xiamatest"注册一个用户</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">用户申请一个实例根据以下参数</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">这个请求的状态应该是"InService"</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">等待"70000"毫秒</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">这个请求的状态应该是"InService"</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">等待"20000"毫秒</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label fail">step:</span>
				<span class="name">这个请求的状态应该是"Finished"</span>
				<div class="children lable error">[u'Assertion Failed: ', u"Expected: 'InService'", u"     but: was 'Finished'", u'', u'Captured stdout:', u'Get order 12 by access key: xiamatest', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'select status from t_cloud_service_channel where id=1139', u'', u'Captured logging:', u'INFO:lib.cloudrequest:cid-1139  request the instance', u'INFO:lib.cloudrequest:cid-1139  recieve the instance Address', u'INFO:lib.cloudrequest:{u\'ack\': 0, u\'to\': u\'1139\', u\'type\': 2, u\'mid\': u\'1493292398206\', u\'payload\': u\'{"code":0,"data":{"audioUrl":"rtmp://192.168.60.1961935/publishlive/mystreamaudio?st=LnqcUlwlp8F83j5POOeZ36u4yq6dq7XLWRpEbZaPn37dzvqy9GcAYIAEm08NRKIz","countdownTime":60000,"inputUrl":"ws://192.168.60.196:7681/LnqcUlwlp8F83j5POOeZ36u4yq6dq7XLWRpEbZaPn37dzvqy9GcAYIAEm08NRKIz","playingTime":90000,"remindTime":300000,"videoUrl":"rtmp://192.168.60.1961935/publishlive/mystream?st=LnqcUlwlp8F83j5POOeZ36u4yq6dq7XLWRpEbZaPn37dzvqy9GcAYIAEm08NRKIz"},"operation":5}\'}']</div>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">这个实例应该收到"timeover"消息</span>
			</div>
		</div>
		<div class="children scenario" style="display: block;">
			<span class="label pass">Scenario</span>
			<span class="name">排队时间不计入游戏可玩儿时间</span>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">玩家通过租户"xiamatest"注册一个用户</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">设置paas的最大实例数为"1"</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label pass">step:</span>
				<span class="name">I change the max instance of paas to "1"</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">用户申请一个实例根据以下参数</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">I wait "1000" ms</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">用户申请一个实例根据以下参数</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">等待"60000"毫秒</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">用户释放第"0"个实例</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">等待"30000"毫秒</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">最后一个请求的状态应该是"InService"</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">等待"50000"毫秒</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">最后一个请求的状态应该是"InService"</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">等待"10000"毫秒</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">这个实例应该收到"timeover"消息</span>
			</div>
			<div class="children step" style="display: block;">
				<span class="label skip">step:</span>
				<span class="name">最后一个请求的状态应该是"Finished"</span>
			</div>
		</div>
	</div>
</body>
</html>